(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{619:function(e,a,r){"use strict";r.r(a);var v=r(16),_=Object(v.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"webpack-是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack-是什么"}},[e._v("#")]),e._v(" Webpack 是什么？")]),e._v(" "),r("p",[e._v("2012 年 Webpack[8] 发布首版，并于 2014 年发布 1.0 正式版，它通过分析模块间依赖来决定编译过程，将可扩展点抽象为 loader 和 plugin。")]),e._v(" "),r("p",[e._v("2020 年，Webpack 5.0 发布，实现了多进程编译以优化计算密集型任务，并强化了缓存机制；")]),e._v(" "),r("p",[e._v("Webpack 最终能统治社区，离不开它的三个王牌能力：")]),e._v(" "),r("ol",[r("li",[e._v("一切皆可打包")]),e._v(" "),r("li",[e._v("本地模块热加载（HMR）")]),e._v(" "),r("li",[e._v("按需加载。")])]),e._v(" "),r("p",[e._v("而 Webpack 的弱项是其配置的繁琐和复杂，在这个阶段出现的大部分新包，也是在牺牲了部分能力的前提下，去强化封装性和简化复杂度")]),e._v(" "),r("h2",{attrs:{id:"核心特点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#核心特点"}},[e._v("#")]),e._v(" 核心特点")]),e._v(" "),r("ul",[r("li",[e._v("拥有依赖管理、动态打包、代码分离、按需加载、代码压缩、静态资源压缩、缓存等配置；")]),e._v(" "),r("li",[e._v("webpack 扩展性强，插件机制完善，开发者可自定义插件、loader；")]),e._v(" "),r("li",[e._v("webpack 社区庞大，更新速度快，轮子丰富；")])]),e._v(" "),r("h2",{attrs:{id:"webpack的构建流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack的构建流程"}},[e._v("#")]),e._v(" Webpack的构建流程")]),e._v(" "),r("ol",[r("li",[e._v("初始化参数：从配置文件和 Shell 语句中读取与合并参数，得出最终的参数；")]),e._v(" "),r("li",[e._v("开始编译：用上一步得到的参数初始化 Compiler 对象，加载所有配置的插件，执行对象的 run 方法开始执行编译；")]),e._v(" "),r("li",[e._v("确定入口：根据配置中的 entry 找出所有的入口文件；")]),e._v(" "),r("li",[e._v("编译模块：从入口文件出发，调用所有配置的 Loader 对模块进行翻译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理；")]),e._v(" "),r("li",[e._v("完成模块编译：在经过第 4 步使用 Loader 翻译完所有模块后，得到了每个模块被翻译后的最终内容以及它们之间的依赖关系；")]),e._v(" "),r("li",[e._v("输出资源：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk，再把每个 Chunk 转换成一个单独的文件加入到输出列表，这步是可以修改输出内容的最后机会；")]),e._v(" "),r("li",[e._v("输出完成：在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统。")])]),e._v(" "),r("p",[e._v("在以上过程中，Webpack 会在特定的时间点广播出特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用 Webpack 提供的 API 改变 Webpack 的运行结果。")]),e._v(" "),r("h2",{attrs:{id:"webpack-与其他工具的区别"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack-与其他工具的区别"}},[e._v("#")]),e._v(" Webpack 与其他工具的区别")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("webpack 适用于大型复杂的前端站点构建: webpack 有强大的 loader 和插件生态,\b 打包后的文件实际上就是一个立即执行函数，这个立即执行函数接收一个参数，这个参数是模块对象，键为各个模块的路径，值为模块内容。立即执行函数内部则处理模块之间的引用，执行模块等,这种情况更适合文件依赖复杂的应用开发.")])]),e._v(" "),r("li",[r("p",[e._v("rollup 适用于基础库的打包，如 vue、d3 等: Rollup 就是将各个模块打包进一个文件中，并且通过 Tree-shaking 来删除无用的代码,可以最大程度上降低代码体积,但是 rollup 没有 webpack 如此多的的如代码分割、按需加载等高级功能，其更聚焦于库的打包，因此更适合库的开发.")])]),e._v(" "),r("li",[r("p",[e._v("parcel 适用于简单的实验性项目: 他可以满足低门槛的快速看到效果,但是生态差、报错信息不够全面都是他的硬伤，除了一些玩具项目或者实验项目不建议使用")])]),e._v(" "),r("li",[r("p",[e._v("Grunt/Gulp 是基于任务运行的工具：")])])]),e._v(" "),r("p",[e._v("它们会自动执行指定的任务，就像流水线，把资源放上去然后通过不同插件进行加工，它们包含活跃的社区，丰富的插件，能方便的打造各种工作流。")]),e._v(" "),r("ul",[r("li",[e._v("Webpack 是基于模块化打包的工具:")])]),e._v(" "),r("p",[e._v("自动化处理模块,webpack 把一切当成模块，当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。")]),e._v(" "),r("p",[e._v("因此这是完全不同的两类工具,而现在主流的方式是用 npm script 代替 Grunt、Gulp,npm script 同样可以打造任务流.")]),e._v(" "),r("h2",{attrs:{id:"webpack5的特点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#webpack5的特点"}},[e._v("#")]),e._v(" Webpack5的特点")]),e._v(" "),r("h3",{attrs:{id:"缓存优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#缓存优化"}},[e._v("#")]),e._v(" 缓存优化")]),e._v(" "),r("ul",[r("li",[e._v("之前的方式")])]),e._v(" "),r("ol",[r("li",[e._v("使用 cache-loader 可以将编译结果写入硬盘缓存，Webpack 再次构建时如果文件没有发生变化则会直接拉取缓存")]),e._v(" "),r("li",[e._v("还有一部分 loader 自带缓存配置，比如 babel-loader，可以配置参数 cacheDirectory 使用缓存，将每次的编译结果写进磁盘（默认在 node_modules/.cache/babel-loader 目录），UglifyJsPlugin 插件中的 cache 选项")]),e._v(" "),r("li",[e._v("terser-webpack-plugin 开启缓存")]),e._v(" "),r("li",[e._v("hard-source-webpack-plugin 插件")]),e._v(" "),r("li",[e._v("webpack.DllPlugin 插件")])]),e._v(" "),r("ul",[r("li",[e._v("v5 默认使用的memory")])]),e._v(" "),r("h3",{attrs:{id:"更好的treeshaking"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#更好的treeshaking"}},[e._v("#")]),e._v(" 更好的TreeShaking")]),e._v(" "),r("h3",{attrs:{id:"新增模块联邦"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#新增模块联邦"}},[e._v("#")]),e._v(" 新增模块联邦")]),e._v(" "),r("ul",[r("li",[e._v("代码共享方式")])]),e._v(" "),r("ol",[r("li",[e._v("Npm包")]),e._v(" "),r("li",[e._v("UMD")]),e._v(" "),r("li",[e._v("微前端")]),e._v(" "),r("li",[e._v("模块联邦")])]),e._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/7062899360995999780#heading-0",target:"_blank",rel:"noopener noreferrer"}},[e._v("构建webpack5知识体系【近万字总结】"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://juejin.cn/post/7023242274876162084#heading-2",target:"_blank",rel:"noopener noreferrer"}},[e._v("透过分析 webpack 面试题，构建 webpack5.x 知识体系"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://blog.towavephone.com/webpack-v5-new-feature/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Webpack5新特性"),r("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=_.exports}}]);