(window.webpackJsonp=window.webpackJsonp||[]).push([[212],{631:function(t,s,a){"use strict";a.r(s);var n=a(16),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"åä¸€ã€æ‰©å±•èƒ½åŠ›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åä¸€ã€æ‰©å±•èƒ½åŠ›"}},[t._v("#")]),t._v(" åä¸€ã€æ‰©å±•èƒ½åŠ›")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.conardli.top/img/electron/el_4_iot.jpg",alt:""}})]),t._v(" "),a("p",[t._v("åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ çš„åº”ç”¨ç¨‹åºè¦å’Œå¤–éƒ¨è®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å‚å•†ä¼šä¸ºä½ æä¾›ç¡¬ä»¶è®¾å¤‡çš„å¼€å‘åŒ…ï¼Œè¿™äº›å¼€å‘åŒ…åŸºæœ¬ä¸Šéƒ½æ˜¯é€šè¿‡"),a("code",[t._v("C++")]),t._v(" ç¼–å†™ï¼Œåœ¨ä½¿ç”¨"),a("code",[t._v("electron")]),t._v("å¼€å‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸å…·å¤‡ç›´æ¥è°ƒç”¨"),a("code",[t._v("C++")]),t._v("ä»£ç çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨"),a("code",[t._v("node-ffi")]),t._v("æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[a("code",[t._v("node-ffi")]),t._v("æä¾›äº†ä¸€ç»„å¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºåœ¨"),a("code",[t._v("Node.js")]),t._v("ç¯å¢ƒä¸­ä½¿ç”¨çº¯"),a("code",[t._v("JavaScript")]),t._v("è°ƒç”¨åŠ¨æ€é“¾æ¥åº“æ¥å£ã€‚å®ƒå¯ä»¥ç”¨æ¥ä¸ºåº“æ„å»ºæ¥å£ç»‘å®šï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ä»»ä½•"),a("code",[t._v("C++")]),t._v("ä»£ç ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„"),a("code",[t._v("node-ffi")]),t._v("å¹¶ä¸èƒ½ç›´æ¥è°ƒç”¨"),a("code",[t._v("C++")]),t._v("ä»£ç ï¼Œä½ éœ€è¦å°†"),a("code",[t._v("C++")]),t._v("ä»£ç ç¼–è¯‘ä¸ºåŠ¨æ€é“¾æ¥åº“ï¼šåœ¨ "),a("code",[t._v("Windows")]),t._v("ä¸‹æ˜¯ "),a("code",[t._v("Dll")]),t._v(" ï¼Œåœ¨ "),a("code",[t._v("Mac OS")]),t._v("ä¸‹æ˜¯ "),a("code",[t._v("dylib")]),t._v(" "),a("code",[t._v("ï¼ŒLinux")]),t._v(" æ˜¯ "),a("code",[t._v("so")]),t._v(" ã€‚")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("node-ffi")]),t._v(" åŠ è½½ "),a("code",[t._v("Library")]),t._v("æ˜¯æœ‰é™åˆ¶çš„ï¼Œåªèƒ½å¤„ç† "),a("code",[t._v("C")]),t._v("é£æ ¼çš„ "),a("code",[t._v("Library")]),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ffi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ffi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ref "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ref'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SHORT_CODE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("refType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'short'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DLL")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ffi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Library")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.dll'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Test_CPP_Method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'int'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'string'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SHORT_CODE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testCppMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("num")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("result")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DLL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Test_CPP_Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è°ƒç”¨å¤±è´¥ï½'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testCppMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ConardLi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨"),a("code",[t._v("ffi")]),t._v("åŒ…è£…"),a("code",[t._v("C++")]),t._v("æ¥å£ç”Ÿæˆçš„åŠ¨æ€é“¾æ¥åº“"),a("code",[t._v("test.dll")]),t._v("ï¼Œå¹¶ä½¿ç”¨"),a("code",[t._v("ref")]),t._v("è¿›è¡Œä¸€äº›ç±»å‹æ˜ å°„ã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨"),a("code",[t._v("JavaScript")]),t._v("è°ƒç”¨è¿™äº›æ˜ å°„æ–¹æ³•æ—¶ï¼Œæ¨èä½¿ç”¨"),a("code",[t._v("TypeScript")]),t._v("æ¥çº¦å®šå‚æ•°ç±»å‹ï¼Œå› ä¸ºå¼±ç±»å‹çš„"),a("code",[t._v("JavaScript")]),t._v("åœ¨è°ƒç”¨å¼ºç±»å‹è¯­è¨€çš„æ¥å£æ—¶å¯èƒ½ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„é£é™©ã€‚")]),t._v(" "),a("p",[t._v("å€ŸåŠ©è¿™ä¸€èƒ½åŠ›ï¼Œå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆä¹Ÿå¯ä»¥åœ¨"),a("code",[t._v("IOT")]),t._v("é¢†åŸŸä¸€å±•èº«æ‰‹äº† ğŸ˜ ï½")]),t._v(" "),a("h2",{attrs:{id:"åäºŒã€ç¯å¢ƒé€‰æ‹©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åäºŒã€ç¯å¢ƒé€‰æ‹©"}},[t._v("#")]),t._v(" åäºŒã€ç¯å¢ƒé€‰æ‹©")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯èƒ½è¿è¡Œåœ¨å¤šå¥—ç¯å¢ƒä¸‹ï¼ˆ"),a("code",[t._v("production")]),t._v("ã€"),a("code",[t._v("beta")]),t._v("ã€"),a("code",[t._v("uat")]),t._v("ã€"),a("code",[t._v("moke")]),t._v("ã€"),a("code",[t._v("development")]),t._v("...ï¼‰ï¼Œä¸åŒçš„å¼€å‘ç¯å¢ƒå¯èƒ½å¯¹åº”ä¸åŒçš„åç«¯æ¥å£æˆ–è€…å…¶ä»–é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¢æˆ·ç«¯ç¨‹åºä¸­å†…ç½®ä¸€ä¸ªç®€å•çš„ç¯å¢ƒé€‰æ‹©åŠŸèƒ½æ¥å¸®åŠ©æˆ‘ä»¬æ›´é«˜æ•ˆçš„å¼€å‘ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.conardli.top/img/electron/el_14_env.png",alt:""}})]),t._v(" "),a("p",[t._v("å…·ä½“ç­–ç•¥å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://www.conardli.top/img/electron/el_15_env.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥ç¯å¢ƒé€‰æ‹©é¡µé¢ï¼Œè¯»å–åˆ°é€‰æ‹©çš„ç¯å¢ƒåè¿›è¡Œå“åº”çš„é‡å®šå‘æ“ä½œ")]),t._v(" "),a("li",[t._v("åœ¨èœå•ä¿ç•™ç¯å¢ƒé€‰æ‹©å…¥å£ï¼Œä»¥ä¾¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­åˆ‡æ¢")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" envList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moke"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("envList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" envList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" urlBeta "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://wwww.xxx-beta.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" urlDev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://wwww.xxx-dev.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" urlProp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://wwww.xxx-prop.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" urlMoke "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://wwww.xxx-moke.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pkg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" build "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build-config"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("currentEnv")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moke"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("setEnv")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getUrl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" urlProp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moke"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" urlMoke"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" urlDev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentEnv "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beta"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" urlBeta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("isDebugger")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("h2",{attrs:{id:"åä¸‰ã€æ‰“åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åä¸‰ã€æ‰“åŒ…"}},[t._v("#")]),t._v(" åä¸‰ã€æ‰“åŒ…")]),t._v(" "),a("p",[t._v("æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå°†å†™å¥½çš„ä»£ç æ‰“åŒ…æˆå¯è¿è¡Œçš„"),a("code",[t._v(".app")]),t._v("æˆ–"),a("code",[t._v(".exe")]),t._v("å¯æ‰§è¡Œæ–‡ä»¶ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘æŠŠæ‰“åŒ…æ°›å›´ä¸¤éƒ¨åˆ†æ¥åšï¼Œæ¸²æŸ“è¿›ç¨‹æ‰“åŒ…å’Œä¸»è¿›ç¨‹æ‰“åŒ…ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_13-1-æ¸²æŸ“è¿›ç¨‹æ‰“åŒ…å’Œå‡çº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-æ¸²æŸ“è¿›ç¨‹æ‰“åŒ…å’Œå‡çº§"}},[t._v("#")]),t._v(" 13.1 æ¸²æŸ“è¿›ç¨‹æ‰“åŒ…å’Œå‡çº§")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„å¤§éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ä»£ç æ˜¯åœ¨æ¸²æŸ“è¿›ç¨‹å®Œæˆçš„ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬ä»…ä»…éœ€è¦å¯¹æ¸²æŸ“è¿›ç¨‹è¿›è¡Œæ›´æ–°å’Œå‡çº§è€Œä¸éœ€è¦æ”¹åŠ¨ä¸»è¿›ç¨‹ä»£ç ï¼Œæˆ‘ä»¬æ¸²æŸ“è¿›ç¨‹çš„æ‰“åŒ…å®é™…ä¸Šå’Œä¸€èˆ¬çš„"),a("code",[t._v("web")]),t._v("é¡¹ç›®æ‰“åŒ…æ²¡æœ‰å¤ªå¤§å·®åˆ«ï¼Œä½¿ç”¨"),a("code",[t._v("webpack")]),t._v("æ‰“åŒ…å³å¯ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘è¯´è¯´æ¸²æŸ“è¿›ç¨‹å•ç‹¬æ‰“åŒ…çš„å¥½å¤„ï¼š")]),t._v(" "),a("p",[t._v("æ‰“åŒ…å®Œæˆçš„"),a("code",[t._v("html")]),t._v("å’Œ"),a("code",[t._v("js")]),t._v("æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬è¦ä¸Šä¼ åˆ°æˆ‘ä»¬çš„å‰ç«¯é™æ€èµ„æºæœåŠ¡å™¨ä¸‹ï¼Œç„¶åå‘ŠçŸ¥æœåŠ¡ç«¯æˆ‘ä»¬çš„æ¸²æŸ“è¿›ç¨‹æœ‰ä»£ç æ›´æ–°ï¼Œè¿™é‡Œå¯ä»¥è¯´æˆæ¸²æŸ“è¿›ç¨‹å•ç‹¬çš„å‡çº§ã€‚")]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼Œå’Œå£³çš„å‡çº§ä¸åŒï¼Œæ¸²æŸ“è¿›ç¨‹çš„å‡çº§ä»…ä»…æ˜¯é™æ€èµ„æºæœåŠ¡å™¨ä¸Š"),a("code",[t._v("html")]),t._v("å’Œ"),a("code",[t._v("js")]),t._v("æ–‡ä»¶çš„æ›´æ–°ï¼Œè€Œä¸éœ€è¦é‡æ–°ä¸‹è½½æ›´æ–°å®¢æˆ·ç«¯ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡å¯åŠ¨ç¨‹åºçš„æ—¶å€™æ£€æµ‹åˆ°ç¦»çº¿åŒ…æœ‰æ›´æ–°ï¼Œå³å¯ç›´æ¥åˆ·æ–°è¯»å–æœ€æ–°ç‰ˆæœ¬çš„é™æ€èµ„æºæ–‡ä»¶ï¼Œå³ä½¿åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è¦å¼ºåˆ¶æ›´æ–°ï¼Œæˆ‘ä»¬çš„ç¨‹åºåªéœ€è¦å¼ºåˆ¶åˆ·æ–°é¡µé¢è¯»å–æœ€æ–°çš„é™æ€èµ„æºå³å¯ï¼Œè¿™æ ·çš„å‡çº§å¯¹ç”¨æˆ·æ˜¯éå¸¸å‹å¥½çš„ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæ³¨æ„ï¼Œä¸€æ—¦æˆ‘ä»¬è¿™æ ·é…ç½®ï¼Œå°±æ„å‘³ç€æ¸²æŸ“è¿›ç¨‹å’Œä¸»è¿›ç¨‹æ‰“åŒ…å‡çº§çš„å®Œå…¨åˆ†ç¦»ï¼Œæˆ‘ä»¬åœ¨å¯åŠ¨ä¸»çª—å£æ—¶è¯»å–çš„æ–‡ä»¶å°±ä¸åº”è¯¥å†æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œè€Œæ˜¯æ‰“åŒ…å®Œæˆåæ”¾åœ¨é™æ€èµ„æºæœåŠ¡å™¨çš„æ–‡ä»¶ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ–¹ä¾¿å¼€å‘ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥åŒºåˆ†æœ¬åœ°å’Œçº¿ä¸ŠåŠ è½½ä¸åŒçš„æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("mac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®è®¾å¤‡macå’Œå½“å‰ç‰ˆæœ¬è·å–æœ€æ–°ç‰ˆæœ¬")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.xxxserver.html/electron-react/index_"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" version "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".html"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env/environment.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("slashes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("debugger")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"development"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("å…·ä½“çš„"),a("code",[t._v("webpack")]),t._v("é…ç½®è¿™é‡Œå°±ä¸å†è´´å‡ºï¼Œå¯ä»¥åˆ°æˆ‘çš„"),a("a",{attrs:{href:"https://github.com/ConardLi/electron-react/tree/master/scripts",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("github")]),t._v(" "),a("code",[t._v("electron-react")]),a("OutboundLink")],1),t._v("çš„"),a("code",[t._v("/scripts")]),t._v("ç›®å½•ä¸‹æŸ¥çœ‹ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹æˆ‘ä»¬å¯ä»¥ç»“åˆ"),a("code",[t._v("webpack")]),t._v("çš„"),a("code",[t._v("devServer")]),t._v("å’Œ"),a("code",[t._v("electron")]),t._v("å‘½ä»¤æ¥å¯åŠ¨"),a("code",[t._v("app")]),t._v("ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contentBase")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("historyApiFallback")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PORT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("noInfo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("stats")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("colors")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'electron'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("shell")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("stdio")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inherit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("h3",{attrs:{id:"_13-2-ä¸»è¿›ç¨‹æ‰“åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-ä¸»è¿›ç¨‹æ‰“åŒ…"}},[t._v("#")]),t._v(" 13.2 ä¸»è¿›ç¨‹æ‰“åŒ…")]),t._v(" "),a("p",[t._v("ä¸»è¿›ç¨‹ï¼Œå³å°†æ•´ä¸ªç¨‹åºæ‰“åŒ…æˆå¯è¿è¡Œçš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå¸¸ç”¨çš„æ‰“åŒ…æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼Œ"),a("code",[t._v("electron-packager")]),t._v("å’Œ"),a("code",[t._v("electron-builder")]),t._v("ã€‚")]),t._v(" "),a("p",[a("code",[t._v("electron-packager")]),t._v("åœ¨æ‰“åŒ…é…ç½®ä¸Šæˆ‘è§‰å¾—æœ‰äº›ç¹çï¼Œè€Œä¸”å®ƒåªèƒ½å°†åº”ç”¨ç›´æ¥æ‰“åŒ…ä¸ºå¯æ‰§è¡Œç¨‹åºã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘æ¨èä½¿ç”¨"),a("code",[t._v("electron-builder")]),t._v("ï¼Œå®ƒä¸ä»…æ‹¥æœ‰æ–¹ä¾¿çš„é…ç½® "),a("code",[t._v("protocol")]),t._v(" çš„åŠŸèƒ½ã€å†…ç½®çš„ "),a("code",[t._v("Auto Update")]),t._v("ã€ç®€å•çš„é…ç½® "),a("code",[t._v("package.json")]),t._v(" ä¾¿èƒ½å®Œæˆæ•´ä¸ªæ‰“åŒ…å·¥ä½œï¼Œç”¨æˆ·ä½“éªŒéå¸¸ä¸é”™ã€‚è€Œä¸”"),a("code",[t._v("electron-builder")]),t._v("ä¸ä»…èƒ½ç›´æ¥å°†åº”ç”¨æ‰“åŒ…æˆ"),a("code",[t._v("exe app")]),t._v("ç­‰å¯æ‰§è¡Œç¨‹åºï¼Œè¿˜èƒ½æ‰“åŒ…æˆ"),a("code",[t._v("msi dmg")]),t._v("ç­‰å®‰è£…åŒ…æ ¼å¼ã€‚")]),t._v(" "),a("p",[t._v("ä½ å¯ä»¥åœ¨"),a("code",[t._v("package.json")]),t._v("æ–¹ä¾¿çš„è¿›è¡Œå„ç§é…ç½®ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"productName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-react"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// appä¸­æ–‡åç§°")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"appId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-react"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// appæ ‡è¯†")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"directories"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶å¤¹")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"buildResources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"output"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist/"')]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"files"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“åŒ…åä¾ç„¶ä¿ç•™çš„æºæ–‡ä»¶")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"main_process/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"render_process/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"mac"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// macæ‰“åŒ…é…ç½®")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"target"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dmg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"icon"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"icon.ico"')]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"win"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// windowsæ‰“åŒ…é…ç½®")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"target"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nsis"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"icon"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"icon.ico"')]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dmg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dmgæ–‡ä»¶æ‰“åŒ…é…ç½®")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"artifactName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron_react.dmg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"contents"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"link"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Applications"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"x"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("410")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"y"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"x"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("130")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"y"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"nsis"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// nsisæ–‡ä»¶æ‰“åŒ…é…ç½®")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oneClick"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"allowToChangeInstallationDirectory"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"shortcutName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electron-react"')]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br")])]),a("p",[t._v("æ‰§è¡Œ"),a("code",[t._v("electron-builder")]),t._v("æ‰“åŒ…å‘½ä»¤æ—¶ï¼Œå¯æŒ‡å®šå‚æ•°è¿›è¡Œæ‰“åŒ…ã€‚")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("mac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("macos   macOSæ‰“åŒ…\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("linux"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l              Linuxæ‰“åŒ…\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("windows     Windowsæ‰“åŒ…\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("mwl                    åŒæ—¶ä¸ºmacOSï¼ŒWindowså’ŒLinuxæ‰“åŒ…\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("x64                    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("x64")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),t._v("ä½å®‰è£…åŒ…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("ia32                   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ia32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("ä½å®‰è£…åŒ…"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("å…³äºä¸»è¿›ç¨‹çš„æ›´æ–°ä½ å¯ä»¥ä½¿ç”¨"),a("code",[t._v("electron-builder")]),t._v("è‡ªå¸¦çš„"),a("code",[t._v("Auto Update")]),t._v("æ¨¡å—ï¼Œåœ¨"),a("code",[t._v("electron-react")]),t._v("ä¹Ÿå®ç°äº†æ‰‹åŠ¨æ›´æ–°çš„æ¨¡å—ï¼Œç”±äºç¯‡å¹…åŸå› è¿™é‡Œå°±ä¸å†èµ˜è¿°ï¼Œå¦‚æœæœ‰å…´è¶£å¯ä»¥åˆ°æˆ‘çš„"),a("a",{attrs:{href:"https://github.com/ConardLi/electron-react/tree/master/scripts",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("github")]),a("OutboundLink")],1),t._v("æŸ¥çœ‹"),a("code",[t._v("main")]),t._v("ä¸‹çš„"),a("code",[t._v("update")]),t._v("æ¨¡å—ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_13-3-æ‰“åŒ…ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-æ‰“åŒ…ä¼˜åŒ–"}},[t._v("#")]),t._v(" 13.3 æ‰“åŒ…ä¼˜åŒ–")]),t._v(" "),a("p",[a("code",[t._v("electron-builder")]),t._v("æ‰“åŒ…å‡ºæ¥çš„"),a("code",[t._v("App")]),t._v("è¦æ¯”ç›¸åŒåŠŸèƒ½çš„åŸç”Ÿå®¢æˆ·ç«¯åº”ç”¨ä½“ç§¯å¤§å¾ˆå¤šï¼Œå³ä½¿æ˜¯ç©ºçš„åº”ç”¨ï¼Œä½“ç§¯ä¹Ÿè¦åœ¨"),a("code",[t._v("100mb")]),t._v("ä»¥ä¸Šã€‚åŸå› æœ‰å¾ˆå¤šï¼š")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ç‚¹ï¼›ä¸ºäº†è¾¾åˆ°è·¨å¹³å°çš„æ•ˆæœï¼Œæ¯ä¸ª"),a("code",[t._v("Electron")]),t._v("åº”ç”¨éƒ½åŒ…å«äº†æ•´ä¸ª"),a("code",[t._v("V8")]),t._v("å¼•æ“å’Œ"),a("code",[t._v("Chromium")]),t._v("å†…æ ¸ã€‚")]),t._v(" "),a("p",[t._v("ç¬¬äºŒç‚¹ï¼šæ‰“åŒ…æ—¶ä¼šå°†æ•´ä¸ª"),a("code",[t._v("node_modules")]),t._v("æ‰“åŒ…è¿›å»ï¼Œå¤§å®¶éƒ½çŸ¥é“ä¸€ä¸ªåº”ç”¨çš„"),a("code",[t._v("node_module")]),t._v("ä½“ç§¯æ˜¯éå¸¸åºå¤§çš„ï¼Œè¿™ä¹Ÿæ˜¯ä½¿å¾—"),a("code",[t._v("Electron")]),t._v("åº”ç”¨æ‰“åŒ…åçš„ä½“ç§¯è¾ƒå¤§çš„åŸå› ã€‚")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ç‚¹æˆ‘ä»¬æ— æ³•æ”¹å˜ï¼Œæˆ‘ä»¬å¯ä»¥ä»ç¬¬äºŒç‚¹å¯¹åº”ç”¨ä½“ç§¯è¿›è¡Œä¼˜åŒ–ï¼š"),a("code",[t._v("Electron")]),t._v("åœ¨æ‰“åŒ…æ—¶åªä¼šå°†"),a("code",[t._v("denpendencies")]),t._v("çš„ä¾èµ–æ‰“åŒ…è¿›å»ï¼Œè€Œä¸ä¼šå°† "),a("code",[t._v("devDependencies")]),t._v(" ä¸­çš„ä¾èµ–è¿›è¡Œæ‰“åŒ…ã€‚æ‰€ä»¥æˆ‘ä»¬åº”å°½å¯èƒ½çš„å‡å°‘"),a("code",[t._v("denpendencies")]),t._v("ä¸­çš„ä¾èµ–ã€‚åœ¨ä¸Šé¢çš„è¿›ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨"),a("code",[t._v("webpack")]),t._v("å¯¹æ¸²æŸ“è¿›ç¨‹è¿›è¡Œæ‰“åŒ…ï¼Œæ‰€ä»¥æ¸²æŸ“è¿›ç¨‹çš„ä¾èµ–å…¨éƒ¨éƒ½å¯ä»¥ç§»å…¥"),a("code",[t._v("devDependencies")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨åŒ"),a("code",[t._v("packajson.json")]),t._v("çš„æ–¹å¼æ¥è¿›è¡Œä¼˜åŒ–ï¼ŒæŠŠåªåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨åˆ°çš„ä¾èµ–æ”¾åœ¨æ•´ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•çš„"),a("code",[t._v("package.json")]),t._v("ä¸‹ï¼Œå°†ä¸å¹³å°ç›¸å…³çš„æˆ–è€…è¿è¡Œæ—¶éœ€è¦çš„ä¾èµ–è£…åœ¨"),a("code",[t._v("app")]),t._v("ç›®å½•ä¸‹ã€‚å…·ä½“è¯¦è§"),a("a",{attrs:{href:"https://www.electron.build/tutorials/two-package-structure",target:"_blank",rel:"noopener noreferrer"}},[t._v("two-package-structure"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),a("ul",[a("li",[t._v("https://electronjs.org/docs")]),t._v(" "),a("li",[t._v("http://jlord.us/essential-electron/")]),t._v(" "),a("li",[t._v("https://imweb.io/topic/5b9f500cc2ec8e6772f34d79")]),t._v(" "),a("li",[t._v("https://www.jianshu.com/p/1ece6fd7a80c")]),t._v(" "),a("li",[t._v("https://zhuanlan.zhihu.com/p/52991793")])]),t._v(" "),a("blockquote",[a("p",[t._v("æœ¬é¡¹ç›®æºç åœ°å€ï¼šhttps://github.com/ConardLi/electron-react")])]),t._v(" "),a("h2",{attrs:{id:"å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("#")]),t._v(" å°ç»“")]),t._v(" "),a("p",[t._v("å¸Œæœ›ä½ é˜…è¯»æœ¬ç¯‡æ–‡ç« åå¯ä»¥è¾¾åˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("äº†è§£"),a("code",[t._v("Electron")]),t._v("çš„åŸºæœ¬è¿è¡ŒåŸç†")]),t._v(" "),a("li",[t._v("æŒæ¡"),a("code",[t._v("Electron")]),t._v("å¼€å‘çš„æ ¸å¿ƒåŸºç¡€çŸ¥è¯†")]),t._v(" "),a("li",[t._v("äº†è§£"),a("code",[t._v("Electron")]),t._v("å…³äºå¼¹æ¡†ã€æ‰“å°ã€ä¿æŠ¤ã€æ‰“åŒ…ç­‰åŠŸèƒ½çš„åŸºæœ¬ä½¿ç”¨")])]),t._v(" "),a("p",[t._v("æ–‡ä¸­å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡æ­£ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« å¸®åŠ©åˆ°äº†ä½ ï¼Œæ¬¢è¿ç‚¹èµå’Œå…³æ³¨ã€‚")])])}),[],!1,null,null,null);s.default=r.exports}}]);